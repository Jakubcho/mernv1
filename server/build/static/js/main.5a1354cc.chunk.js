(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(t,e,n){},101:function(t,e,n){},102:function(t,e,n){},178:function(t,e,n){},179:function(t,e,n){},180:function(t,e,n){},205:function(t,e){},223:function(t,e,n){},224:function(t,e,n){},230:function(t,e,n){},231:function(t,e,n){},232:function(t,e,n){},233:function(t,e,n){},234:function(t,e,n){},236:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),r=n(28),s=n.n(r),i=n(5),o=n(6),u=n(8),l=n(7),j=n(20),p=(n(89),n(1)),d=function(t){t.links,t.location;return Object(p.jsx)("h1",{className:"logo",children:"Blog.app"})},b=n(3),h=n(13),O=(n(91),function(t){var e=t.links,n=t.location;return Object(p.jsx)("ul",{className:"main-menu",children:e.map((function(t,e){return Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{className:n.pathname===t.path?"active":"",to:t.path,children:t.title})},e)}))})}),f=Object(j.e)((function(t){return Object(p.jsx)(O,Object(b.a)({},t))})),x=(n(100),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={links:[{path:"/",title:"Home"},{path:"/posts",title:"Posts"},{path:"/contact",title:"Contact"},{path:"/posts/new",title:"Add post"}]},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.links;return Object(p.jsxs)("nav",{className:"navbar",children:[Object(p.jsx)(d,{}),Object(p.jsx)(f,{links:t})]})}}]),n}(c.a.Component)),v=(n(101),function(t){var e=t.children;return Object(p.jsx)("div",{className:"container-fluid",children:e})}),g=function(t){var e=t.children;return Object(p.jsx)("div",{children:Object(p.jsxs)(v,{children:[Object(p.jsx)(x,{}),e]})})},m=(n(102),function(t){var e=t.children;return Object(p.jsx)("h1",{className:"page-title",children:e})}),P=n(14),y=n(11),_=n.n(y),k=n(22),N=n(39),C="https://mernv.herokuapp.com/api",w=n(23),E=n.n(w),A=function(t){return"app/".concat("posts","/").concat(t)},S=A("LOAD_POSTS"),D=A("LOAD_POST"),T=(A("ADD_POST"),A("START_REQUEST")),q=A("END_REQUEST"),R=A("ERROR_REQUEST"),B=A("SEND_REQUEST"),I=A("DELETE_POST_REQUEST"),M=A("LOAD_POSTS_PAGE"),Q=function(t){return{payload:t,type:M}},U=function(t){return t.posts.request},L=function(t){return t.posts.singlePost},J=function(t){var e=t.posts;return Math.ceil(e.amount/e.postsPerPage)},F=function(){return{type:T}},G=function(){return{type:q}},H=function(t){return{error:t,type:R}},z=function(){return{type:B}},K={data:[],request:{pending:!1,error:null,success:null,send:null,delete:null},singlePost:{},amount:0,postsPerPage:10,presentPage:1};var V=function(t){return function(){var e=Object(k.a)(_.a.mark((function e(n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(F()),e.prev=1,e.next=4,E.a.get("".concat(C,"/posts/").concat(t));case 4:a=e.sent,n({payload:a.data,type:D}),n(G()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(H(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},W=n(38),X=(n(178),function(){return Object(p.jsx)(W.Animated,{animationIn:"fadeIn",animationOut:"fadeOut",children:Object(p.jsxs)("div",{className:"lds-ellipsis",children:[Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{}),Object(p.jsx)("div",{})]})})}),Y=n(18),Z=(n(179),function(t){var e=t.variant,n=void 0===e?"":e,a=t.children,c=Object(Y.a)(t,["variant","children"]);return Object(p.jsx)("button",Object(b.a)(Object(b.a)({},c),{},{className:"button button--".concat(n),children:a}))}),$=(n(180),function(t){var e=t.children;return Object(p.jsx)("h2",{className:"section-title",children:e})}),tt=n(82),et=n.n(tt),nt=function(t){var e=t.children,n=Object(Y.a)(t,["children"]);return Object(p.jsx)("div",Object(b.a)(Object(b.a)({},n),{},{className:"html-box",children:et()(e)}))},at=function(t,e){return t.length<1?"Error":t.length<=e?t:t.substr(0,t.lastIndexOf(" ",e))+"..."},ct=(n(223),function(t){var e=t.id,n=t.title,a=t.content;return Object(p.jsxs)("article",{className:"post-summary",children:[Object(p.jsx)($,{children:n}),Object(p.jsx)(nt,{children:at(a,250)}),Object(p.jsx)(Z,{variant:"primary",children:Object(p.jsx)(h.b,{to:"/posts/".concat(e),children:"Read more"})})]})}),rt=function(t){var e=t.posts;return Object(p.jsx)("div",{children:Object(p.jsx)("section",{className:"posts-list",children:e.map((function(t){return Object(p.jsx)(ct,Object(b.a)({},t),t.id)}))})})},st=n(47),it=(n(224),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={presentPage:t.props.initialPage},t}return Object(o.a)(n,[{key:"changePage",value:function(t){this.setState({presentPage:t}),this.props.onPageChange(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.pages,a=(e.onPageChange,this.state.presentPage);this.changePage;return Object(p.jsx)("div",{className:"pagination",children:Object(p.jsxs)("ul",{className:"pagination__list",children:[Object(p.jsx)(st.a,{className:"pagination__list__icon",onClick:function(){return t.changePage(n-1)}}),Object(N.a)(Array(n)).map((function(e,n){return Object(p.jsx)("li",{onClick:function(){t.changePage(n)},className:"pagination__list__item ".concat(n++===a?"pagination__list__item--active":""),children:n},n)})),Object(p.jsx)(st.b,{className:"pagination__list__icon",onClick:function(){return t.changePage(n)}})]})})}}]),n}(c.a.Component)),ot=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={counter:t.props.counter},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.counter;return Object(p.jsx)("div",{children:Object(p.jsxs)("h3",{children:["Posts number: ",t]})})}}]),n}(c.a.Component),ut=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={initialPage:t.props.initialPage||1,postsPerPage:t.props.postsPerPage||10,pagination:t.props.pagination||!0},t.loadPostsPage=function(e){(0,t.props.loadPostsByPage)(e,t.state.postsPerPage)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.loadPostsByPage)(this.state.initialPage,this.state.postsPerPage)}},{key:"render",value:function(){var t=this.props,e=t.posts,n=t.request,a=t.pages,c=this.state.pagination,r=this.loadPostsPage;return Object(p.jsxs)("div",{children:[n.pending&&null===n.success&&Object(p.jsx)(X,{}),n.pending&&!1===n.success&&Object(p.jsx)("h1",{children:"error"}),null===n.error&&!0===n.success&&Object(p.jsxs)("div",{children:[Object(p.jsx)(ot,{counter:e.length}),Object(p.jsx)(rt,{posts:e}),!0===c&&Object(p.jsx)(it,{pages:a,onPageChange:r})]})]})}}]),n}(c.a.Component),lt=Object(P.b)((function(t){return{posts:(e=t,e.posts.data),request:U(t),pages:J(t)};var e}),(function(t){return{loadPostsByPage:function(e,n){return t(function(t,e){return function(){var n=Object(k.a)(_.a.mark((function n(a){var c,r,s,i,o;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(F()),n.prev=1,r=(t-1)*(c=e||10),s=c,n.next=7,E.a.get("".concat(C,"/posts/range/").concat(r,"/").concat(s));case 7:i=n.sent,o={posts:i.data.posts,amount:i.data.amount,postsPerPage:c,presentPage:t},a(Q(o)),a(G()),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),a(H(n.t0.message));case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(ut),jt=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{children:"Blog"}),Object(p.jsx)(lt,{initialPage:1,postsPerPage:3,pagination:"false"})]})},pt=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{children:"Posts list"}),Object(p.jsx)(lt,{initialPage:1,postsPerPage:10})]})},dt=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{children:"Contac "}),Object(p.jsx)("p",{children:"Comapny Name"}),Object(p.jsx)("p",{children:"Street number, street name"}),Object(p.jsx)("p",{children:"Mobile number: xxx-xxx-xxx"})]})},bt=function(){return Object(p.jsx)("div",{children:"NotFound"})},ht=n(37),Ot=n(83),ft=n.n(Ot),xt=(n(228),n(229),n(230),function(t){var e=t.value,n=t.label,a=t.onChange,c=Object(Y.a)(t,["value","label","onChange"]);return Object(p.jsxs)("label",{className:"text-field",children:[Object(p.jsx)("span",{className:"text-field__label ? 'text-field__label--big' : ''}",children:n}),Object(p.jsx)("input",Object(b.a)(Object(b.a)({},c),{},{value:e,onChange:a,className:"text-field__input"}))]})}),vt=n(26),gt=(n(231),function(t){var e=t.variant,n=void 0===e?"":e,a=t.children,c=Object(Y.a)(t,["variant","children"]);return Object(p.jsx)(W.Animated,{animationIn:"fadeIn",animationOut:"fadeOut",children:Object(p.jsxs)("div",Object(b.a)(Object(b.a)({},c),{},{className:"alert alert--".concat(n),children:[function(){switch(n){case"info":return Object(p.jsx)(vt.c,{});case"success":return Object(p.jsx)(vt.a,{});case"warning":case"error":return Object(p.jsx)(vt.b,{});default:return Object(p.jsx)(vt.c,{})}}(),Object(p.jsx)("span",{className:"alert__desc",children:a})]}))})}),mt=(n(232),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={post:{title:t.props.title||"",author:t.props.author||"",content:t.props.content||"",id:t.props.id||"",_id:t.props._id||""}},t.handleChange=function(e){var n=t.state.post;t.setState({post:Object(b.a)(Object(b.a)({},n),{},Object(ht.a)({},e.target.name,e.target.value))})},t.handleEditor=function(e){var n=t.state.post;t.setState({post:Object(b.a)(Object(b.a)({},n),{},{content:e})})},t.addPost=function(e){var n=t.props,a=n.addPost,c=n.editPost,r=n.method,s=n._id,i=t.state.post;e.preventDefault(),"addPost"===r?a(i):"editPost"===r&&(console.log(i),c(i,s))},t.handleDelete=function(e){e.preventDefault();var n=t.props,a=n.deletePost;n.post;a(n._id)},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state.post,e=this.props,n=e.request,a=e.method,c=this.handleChange,r=this.handleEditor,s=this.handleDelete,i=this.addPost;return n.error?Object(p.jsx)(gt,{variant:"error",children:n.error}):n.send?Object(p.jsx)(gt,{variant:"success",children:"Post has been added!"}):n.delete?Object(p.jsx)(gt,{variant:"success",children:"Post has been deleted!"}):n.pending?Object(p.jsx)(X,{}):Object(p.jsxs)("form",{onSubmit:i,children:[Object(p.jsx)(xt,{label:"Title",name:"title",value:t.title,onChange:c}),Object(p.jsx)(xt,{label:"Author",name:"author",value:t.author,onChange:c}),Object(p.jsx)($,{children:"Edit post content"}),Object(p.jsx)(ft.a,{className:"content-editor",text:t.content,option:{placeholder:!1,toolbar:{buttons:["bold","italic","underline","anchor","h2","h3"]}},onChange:r}),Object(p.jsx)(Z,{variant:"primary",children:"Add post"}),"editPost"===a&&Object(p.jsx)(Z,{variant:"primary",onClick:s,children:"Delete Post"})]})}}]),n}(c.a.Component)),Pt=Object(P.b)((function(t){return{request:U(t)}}),(function(t){return{addPost:function(e){return t(function(t){return function(){var e=Object(k.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(F()),e.prev=1,e.next=4,E.a.post("".concat(C,"/posts"),t);case 4:e.sent,n(z()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(H(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))},editPost:function(e,n){return t(function(t,e){return function(){var n=Object(k.a)(_.a.mark((function n(a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(F()),n.prev=1,n.next=4,E.a.put("".concat(C,"/posts/").concat(e),t);case 4:n.sent,a(z()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(H(n.t0.message));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))},deletePost:function(e){return t(function(t){return function(){var e=Object(k.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(F()),e.prev=1,e.next=4,E.a.delete("".concat(C,"/posts/").concat(t));case 4:e.sent,n({type:I}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(H(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(mt),yt=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(Pt,{method:"addPost"})})},_t=(n(233),function(t){var e=t.children,n=Object(Y.a)(t,["children"]);return Object(p.jsx)("h2",Object(b.a)(Object(b.a)({},n),{},{className:"small-title",children:e}))}),kt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.props;(0,t.loadPost)(t.id)}},{key:"render",value:function(){var t=this.props,e=t.request,n=t.post;return Object(p.jsxs)("div",{children:[e.pending&&null===e.success&&Object(p.jsx)(X,{}),e.pending&&!1===e.success&&Object(p.jsx)("h1",{children:"error"}),null===e.error&&!0===e.success&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("article",{className:"post-summary",children:[Object(p.jsx)(_t,{children:n.title}),Object(p.jsx)(nt,{children:n.content}),"Author: ",n.author]}),Object(p.jsx)(Z,{variant:"primary",children:Object(p.jsx)(h.b,{to:"/posts/editpost/".concat(this.props.id),children:"Edit Post"})})]})]})}}]),n}(c.a.Component),Nt=Object(P.b)((function(t){return{request:U(t),post:L(t)}}),(function(t){return{loadPost:function(e){return t(V(e))}}}))(kt),Ct=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.match.params.id;return Object(p.jsx)("div",{children:Object(p.jsx)(Nt,{id:t})})}}]),n}(c.a.Component),wt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.props;(0,t.loadPost)(t.id)}},{key:"render",value:function(){var t=this.props.post;return Object(p.jsx)("div",{children:Object(p.jsx)(Pt,{title:t.title,author:t.author,content:t.content,method:"editPost",id:t.id,_id:t._id})})}}]),n}(c.a.Component),Et=Object(P.b)((function(t){return{post:L(t)}}),(function(t){return{loadPost:function(e){return t(V(e))}}}))(wt),At=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.match.params.id;return Object(p.jsx)("div",{children:Object(p.jsx)(Et,{id:t})})}}]),n}(c.a.Component),St=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={posts:[]},t}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(g,{children:Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{path:"/",exact:!0,component:jt}),Object(p.jsx)(j.a,{path:"/contact",exact:!0,component:dt}),Object(p.jsx)(j.a,{path:"/posts",exact:!0,component:pt}),Object(p.jsx)(j.a,{path:"/posts/new",exact:!0,component:yt}),Object(p.jsx)(j.a,{path:"/posts/editpost/:id",exact:!0,component:At}),Object(p.jsx)(j.a,{path:"/posts/:id",exact:!0,component:Ct}),Object(p.jsx)(j.a,{component:bt})]})})}}]),n}(c.a.Component),Dt=n(21),Tt=n(84),qt=Object(Dt.c)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case M:return Object(b.a)(Object(b.a)({},t),{},{postsPerPage:e.payload.postsPerPage,presentPage:e.payload.presentPage,amount:e.payload.amount,data:Object(N.a)(e.payload.posts)});case B:return Object(b.a)(Object(b.a)({},t),{},{request:{pending:!1,error:null,send:!0}});case D:return Object(b.a)(Object(b.a)({},t),{},{singlePost:e.payload});case S:return Object(b.a)(Object(b.a)({},t),{},{data:e.payload});case T:return Object(b.a)(Object(b.a)({},t),{},{request:{pending:!0,error:null,success:null}});case q:return Object(b.a)(Object(b.a)({},t),{},{request:{pending:!1,error:null,success:!0}});case R:return Object(b.a)(Object(b.a)({},t),{},{request:{pending:!1,error:e.error,success:!1}});case I:return Object(b.a)(Object(b.a)({},t),{},{request:{pending:!1,error:null,delete:!0}});default:return t}}}),Rt=Object(Dt.e)(qt,Object(Dt.d)(Object(Dt.a)(Tt.a))),Bt=(n(234),n(235),function(){return Object(p.jsx)(P.a,{store:Rt,children:Object(p.jsx)(h.a,{children:Object(p.jsx)(St,{})})})});s.a.render(Object(p.jsx)(Bt,{}),document.getElementById("root"))},89:function(t,e,n){},91:function(t,e,n){}},[[236,1,2]]]);
//# sourceMappingURL=main.5a1354cc.chunk.js.map